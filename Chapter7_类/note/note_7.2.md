# 7.2 访问控制与封装

> 本章术语：
>  
> * 访问说明符（access specifiers）
> * 友元（friend）

* 定义在 `public` 说明符之后的成员在整个程序内可被访问
* 定义在 `private` 说明符之后的成员可以被类的成员函数访问，但是不能被使用该类的代码访问。

一个类可以包含 0 个或多个访问说明符，而且对于某个访问说明符能出现多少次也没有严格限定。
每个访问说明符指定了接下来的成员的访问级别，其有效范围直到出现下一个访问说明符或者到达类的结尾处为止。

*使用 class 和 struct 定义类，唯一的区别就是默认的访问权限。*  
如果使用 struct 关键字，则定义在第一个访问说明符之前的成员是 public 的；相反，如果使用 class 关键字，则这些成员是 private 的。  
当我们希望定义的类的所有成员是 public 的时，使用 struct ；反之，如果希望成员是 private 的，使用 class 。

## 7.2.1 友元

如果想让其他类或者非成员的函数访问类的非公有成员，应当令其他类或者函数成为他的友元。  
在类的开头增加以 `friend` 关键字开始的声明语句。

友元声明只能出现在类定义的内部，但是在类内出现的具体位置不限。  
*一般来说，最好在类定义开始或结束前的位置集中声明友元。*

必须在友元声明之外再专门对函数进行一次声明。  
为了使友元对类的用户可见，我们通常把友元的声明与类本身放置在同一个头文件中。友元函数除了在类内声明以外，应该在类外也声明一次。

## 练习

* [练习 7.16](../src/quiz_7.16.md)
* [练习 7.17](../src/quiz_7.17.md)
* [练习 7.18](../src/quiz_7.18.md)
* [练习 7.19](../src/quiz_7.19.md)
* [练习 7.20](../src/quiz_7.20.md)
* [练习 7.21](../src/quiz_7.21_main.cpp)
* [练习 7.22](../src/quiz_7.22.cpp)
