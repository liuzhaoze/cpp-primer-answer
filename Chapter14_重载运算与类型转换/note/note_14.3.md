# 14.3 算术和关系运算符

算术运算符/关系运算符的形式：

* 非成员函数
* 形参都是常量的引用
* 使用局部变量保存运算结果，返回局部变量的副本
* 如果定义了算术运算符，一般也会定义对应的复合赋值运算符
* 应当用复合赋值运算符定义算术运算符

例：

```cpp
Sales_data operator+(const Sales_data &lhs, const Sales_data &rhs)
{
    Sales_data sum = lhs;
    sum += rhs;
    return sum;
}
```

## 14.3.1 相等运算符

相等运算符的设计准则：

* `operator==` 应该能判断一组给定的对象中是否含有重复数据
* `operator==` 应该具有传递性，即：如果 `a==b` 和 `b==c` 都为真，则 `a==c` 也应该为真
* `operator==` 和 `operator!=` 如果定义了其中一个，那么也应该定义另外一个
* `operator==` 和 `operator!=` 中的一个应该通过调用另外一个来完成自己的定义，即 `!=` 应该定义为 `return !(lhs == rhs);`

## 14.3.1 关系运算符

关系运算符的设计准则：

* 定义顺序关系，使其与关联容器中对关键字的要求一致（见 [11.2.2 小节](../../Chapter11_%E5%85%B3%E8%81%94%E5%AE%B9%E5%99%A8/note/note_11.2.md)）
* 如果类同时也含有 `==` 运算符，那么关系运算符的结果应该与 `==` 保持一致，即：**如果两个对象不相等，那么其中一个对象应该 `<` 另一个对象**

*只有存在唯一一种逻辑可靠的 `<` 定义，才考虑为这个类定义 `<` 运算符。*

## 练习

* [练习 14.13](../src/quiz_14.13.md)
* [练习 14.14](../src/quiz_14.14.md)
* [练习 14.15](../src/quiz_14.15.cpp)
* [练习 14.16](../src/quiz_14.16.md)
* [练习 14.17](../src/quiz_14.17.cpp)
* [练习 14.18](../src/quiz_14.18.md)
* [练习 14.19](../src/quiz_14.19.cpp)
